# TeleCheck Test - ãƒ†ãƒ¬ã‚¢ãƒå“è³ªãƒã‚§ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ 

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®æ–‡å­—èµ·ã“ã—ã¨ãƒ†ãƒ¬ã‚¢ãƒå“è³ªãƒã‚§ãƒƒã‚¯ã‚’è‡ªå‹•åŒ–ã™ã‚‹Streamlitã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚
AssemblyAIã«ã‚ˆã‚‹è©±è€…åˆ†é›¢æ©Ÿèƒ½ã¨OpenAI GPTã«ã‚ˆã‚‹å“è³ªåˆ†æã‚’çµ„ã¿åˆã‚ã›ã¦ã„ã¾ã™ã€‚

## ğŸ¯ ä¸»ãªæ©Ÿèƒ½

- **è©±è€…åˆ†é›¢ä»˜ãæ–‡å­—èµ·ã“ã—**: AssemblyAI APIã«ã‚ˆã‚‹é«˜ç²¾åº¦ãªéŸ³å£°èªè­˜ã¨è©±è€…è­˜åˆ¥
- **è‡ªå‹•å“è³ªãƒã‚§ãƒƒã‚¯**: 29é …ç›®ã«ã‚ãŸã‚‹ãƒ†ãƒ¬ã‚¢ãƒå“è³ªã®è‡ªå‹•åˆ¤å®š
- **ãƒãƒƒãƒå‡¦ç†**: è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€æ‹¬å‡¦ç†ã«å¯¾å¿œ
- **Google Sheetsé€£æº**: çµæœã®è‡ªå‹•ä¿å­˜ã¨ç®¡ç†
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€²æ—è¡¨ç¤º**: å‡¦ç†çŠ¶æ³ã®å¯è¦–åŒ–

## ğŸ—ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ç‰ˆï¼‰

```
telecheck-test/
â”œâ”€â”€ app.py                      # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ requirements.txt            # ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”œâ”€â”€ README.md                   # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜
â”œâ”€â”€ src/                        # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ config.py              # è¨­å®šç®¡ç†
â”‚   â”œâ”€â”€ ui/                    # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚   â”‚   â”œâ”€â”€ main_app.py        # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ components.py      # UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ styles.py          # ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©
â”‚   â”œâ”€â”€ api/                   # API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ openai_client.py   # OpenAI API
â”‚   â”‚   â”œâ”€â”€ assemblyai_client.py # AssemblyAI API
â”‚   â”‚   â””â”€â”€ sheets_client.py   # Google Sheets API
â”‚   â”œâ”€â”€ prompts/               # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†ï¼ˆåˆ†å‰²ç‰ˆï¼‰
â”‚   â”‚   â”œâ”€â”€ __init__.py        # çµ±åˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚   â”‚   â”œâ”€â”€ transcription_prompts.py    # æ–‡å­—èµ·ã“ã—é–¢é€£
â”‚   â”‚   â”œâ”€â”€ basic_check_prompts.py      # åŸºæœ¬å“è³ªãƒã‚§ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ advanced_check_prompts.py   # é«˜åº¦å“è³ªãƒã‚§ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ system_prompts.py  # æ—§ç‰ˆï¼ˆç§»è¡Œæ¡ˆå†…ï¼‰
â”‚   â”œâ”€â”€ quality_check/         # å“è³ªãƒã‚§ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ ï¼ˆæ–°ç‰ˆï¼‰
â”‚   â”‚   â”œâ”€â”€ __init__.py        # çµ±åˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚   â”‚   â”œâ”€â”€ base.py            # åŸºåº•ã‚¯ãƒ©ã‚¹ç¾¤
â”‚   â”‚   â””â”€â”€ checks.py          # å…·ä½“çš„å®Ÿè£…ã‚¯ãƒ©ã‚¹
â”‚   â”œâ”€â”€ common/                # å…±é€šæ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ __init__.py        
â”‚   â”‚   â””â”€â”€ error_handler.py   # çµ±ä¸€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”‚   â””â”€â”€ utils/                 # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚       â”œâ”€â”€ batch_processor.py # ãƒãƒƒãƒå‡¦ç†ï¼ˆæ›´æ–°ç‰ˆï¼‰
â”‚       â”œâ”€â”€ quality_check.py   # æ—§ç‰ˆï¼ˆå¾Œæ–¹äº’æ›ï¼‰
â”‚       â””â”€â”€ speaker_detection.py # è©±è€…æ¤œå‡º
â””â”€â”€ secrets/                   # API ã‚­ãƒ¼ï¼ˆgit ignoredï¼‰
    â””â”€â”€ service_account.json
```

## ğŸ”§ ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®æ”¹å–„ç‚¹

### 1. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†å‰²
- **35KB ã®å·¨å¤§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«** â†’ 3ã¤ã®å°‚é–€ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†å‰²
- **18KB ã®å“è³ªãƒã‚§ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«** â†’ ã‚¯ãƒ©ã‚¹ãƒ™ãƒ¼ã‚¹ã®æŸ”è»Ÿãªæ§‹é€ 
- **è²¬å‹™ã®è«–ç†çš„åˆ†é›¢**: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ»ãƒã‚§ãƒƒã‚¯ãƒ»ã‚¨ãƒ©ãƒ¼å‡¦ç†

### 2. è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³å°å…¥
- **æŠ½è±¡åŸºåº•ã‚¯ãƒ©ã‚¹**: æ–°ãƒã‚§ãƒƒã‚¯è¿½åŠ ã®å®¹æ˜“æ€§
- **ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼**: å‡¦ç†ã®çµ±ä¸€ç®¡ç†
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼**: çµ±ä¸€ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼å‡¦ç†

### 3. å¾Œæ–¹äº’æ›æ€§ç¶­æŒ
- æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¯è­¦å‘Šä»˜ãã§ç¶™ç¶šå‹•ä½œ
- æ®µéšçš„ç§»è¡Œã‚’ã‚µãƒãƒ¼ãƒˆ
- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½å®Œå‚™

## ğŸ“¦ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
pip install -r requirements.txt
```

### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
```bash
# Streamlit secrets ã¾ãŸã¯ç’°å¢ƒå¤‰æ•°ã§è¨­å®š
OPENAI_API_KEY="your-openai-api-key"
ASSEMBLYAI_API_KEY="your-assemblyai-api-key"
```

### 3. Google Sheets èªè¨¼
1. Google Cloud Console ã§ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ
2. èªè¨¼JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ `secrets/service_account.json` ã«é…ç½®
3. ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨å…±æœ‰

### 4. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•
```bash
streamlit run app.py
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### è©±è€…åˆ†é›¢æ–‡å­—èµ·ã“ã—
1. éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆMP3, WAV, M4Aï¼‰ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
2. æ‹…å½“è€…åãƒªã‚¹ãƒˆã‚’è¨­å®š
3. ã€Œè©±è€…åˆ†é›¢æ–‡å­—èµ·ã“ã—é–‹å§‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
4. çµæœã‚’Google Sheetsã«ä¿å­˜

### å“è³ªãƒã‚§ãƒƒã‚¯
1. æ‹…å½“è€…ã‚’é¸æŠ
2. æœ€å¤§å‡¦ç†è¡Œæ•°ã‚’è¨­å®š
3. ã€Œå“è³ªãƒã‚§ãƒƒã‚¯å®Ÿè¡Œã€ã‚’ã‚¯ãƒªãƒƒã‚¯
4. 29é …ç›®ã®è‡ªå‹•åˆ¤å®šçµæœã‚’ç¢ºèª

## ğŸ” å“è³ªãƒã‚§ãƒƒã‚¯é …ç›®

### åŸºæœ¬ãƒã‚§ãƒƒã‚¯ï¼ˆ2é …ç›®ï¼‰
- ç¤¾åãƒ»æ‹…å½“è€…åã®åä¹—ã‚Šç¢ºèª
- ãƒ­ãƒ³ã‚°ã‚³ãƒ¼ãƒ«æ¤œå‡º

### ãƒ†ãƒ¬ã‚¢ãƒå¯¾å¿œï¼ˆ9é …ç›®ï¼‰
- ã‚¢ãƒ—ãƒ­ãƒ¼ãƒæ–¹æ³•
- ç«¶åˆä»–ç¤¾ã¸ã®è¨€åŠ
- é‹è»¢ä¸­ãƒ»é›»è»Šå†…ã§ã®å¯¾å¿œ
- æ–­ã‚‰ã‚ŒãŸéš›ã®å¯¾å¿œ
- æš´è¨€ãƒ»è„…è¿«ã®æœ‰ç„¡
- æƒ…å ±æ¼æ´©ãƒã‚§ãƒƒã‚¯
- é•æ³•è¡Œç‚ºã¸ã®é–¢ä¸
- é€šè©±å¯¾å¿œãƒãƒŠãƒ¼
- ç›¸æ‰‹ã®å‘¼ã³æ–¹

### é¡§å®¢åå¿œï¼ˆ8é …ç›®ï¼‰
- é›»è©±ãŠæ–­ã‚Šã®æ„æ€è¡¨ç¤º
- ã—ã¤ã“ã•ã¸ã®è‹¦æƒ…
- å°‚ç”¨ç•ªå·ã¸ã®èª¤é›»è©±
- å£èª¿ã¸ã®æ³¨æ„
- é¡§å®¢ã®æ€’ã‚Š
- æš´è¨€ã‚’å—ã‘ãŸçŠ¶æ³
- é€šå ±ã®è¨€åŠ
- å–¶æ¥­å…¨èˆ¬ã®ãŠæ–­ã‚Š

### ãƒãƒŠãƒ¼ãƒ»å¿ƒæ§‹ãˆï¼ˆ10é …ç›®ï¼‰
- é©åˆ‡ãªæ•¬èªä½¿ç”¨
- ãƒ“ã‚¸ãƒã‚¹ç”¨èªã®æ­£ã—ã„ä½¿ç”¨
- è¬ç½ªè¡¨ç¾ã®é©åˆ‡æ€§
- å£èª¿ãƒ»æ…‹åº¦ã®ä¸å¯§ã•
- ä¼šè©±ã®æˆç«‹åº¦
- èª å®Ÿãªèª¬æ˜
- ãã®ä»–å•é¡Œè¡Œå‹•

## ğŸ› ï¸ é–‹ç™ºè€…å‘ã‘æƒ…å ±

### æ–°ã—ã„ãƒã‚§ãƒƒã‚¯é …ç›®ã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•
```python
from src.quality_check.base import QualityCheckBase

class NewCheck(QualityCheckBase):
    def get_check_name(self) -> str:
        return "æ–°ã—ã„ãƒã‚§ãƒƒã‚¯"
    
    def check(self, text_input: str, **kwargs) -> str:
        # ãƒã‚§ãƒƒã‚¯ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…
        return "å•é¡Œãªã—"
```

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ä½¿ç”¨
```python
from src.common.error_handler import safe_execute, ErrorHandler

@safe_execute("å‡¦ç†å")
def my_function():
    # å‡¦ç†å†…å®¹
    pass
```

## ğŸ“ ç§»è¡Œã‚¬ã‚¤ãƒ‰

### æ—§ã‚³ãƒ¼ãƒ‰ã‹ã‚‰æ–°ã‚³ãƒ¼ãƒ‰ã¸ã®ç§»è¡Œ
```python
# æ—§ï¼š
from src.utils.quality_check import run_workflow
result = run_workflow(text, checker_str, client)

# æ–°ï¼š
from src.quality_check import run_quality_check_workflow
result = run_quality_check_workflow(text, checker_str, client)
```

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ä½¿ç”¨æ–¹æ³•
```python
# æ—§ï¼š
from src.prompts.system_prompts import SYSTEM_PROMPTS

# æ–°ï¼š
from src.prompts import SYSTEM_PROMPTS  # çµ±åˆè¾æ›¸
# ã¾ãŸã¯
from src.prompts.basic_check_prompts import BASIC_CHECK_PROMPTS
```

## ğŸ¨ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Streamlit
- **éŸ³å£°å‡¦ç†**: AssemblyAI API
- **AIåˆ†æ**: OpenAI GPT API
- **ãƒ‡ãƒ¼ã‚¿ä¿å­˜**: Google Sheets API
- **è¨€èª**: Python 3.8+

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- **å‡¦ç†é€Ÿåº¦**: ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã«ä¾å­˜ï¼ˆ1MB â‰ˆ 1åˆ†ï¼‰
- **ãƒãƒƒãƒå‡¦ç†**: æœ€å¤§50ä»¶ã¾ã§ä¸€æ‹¬å‡¦ç†å¯èƒ½
- **APIåˆ¶é™**: å„ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ¶é™ã«æº–æ‹ 
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã®ç´„2-3å€

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- APIã‚­ãƒ¼ã¯Streamlit Secretsã§ç®¡ç†
- éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¸€æ™‚çš„ã«ã®ã¿ä¿å­˜
- Google Sheetsã¯é©åˆ‡ãªæ¨©é™è¨­å®šãŒå¿…è¦
- å‡¦ç†ãƒ­ã‚°ã«ã‚»ãƒ³ã‚·ãƒ†ã‚£ãƒ–æƒ…å ±ã¯å«ã¾ãªã„

## ğŸ¤ è²¢çŒ®

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. æ–°ã—ã„ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆï¼ˆ`git checkout -b feature/AmazingFeature`ï¼‰
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆï¼ˆ`git commit -m 'Add some AmazingFeature'`ï¼‰
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ï¼ˆ`git push origin feature/AmazingFeature`ï¼‰
5. Pull Requestã‚’ä½œæˆ

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚
